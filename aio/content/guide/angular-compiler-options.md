{@a angular-compiler-options}
# Варианты Angular компиляторов

Когда вы используете [компиляция AOT компиляцию](guide/aot-compiler), вы можете контролировать вашего приложения, указав *шаблона* параметры компилятора в  `tsconfig.json`   [файл конфигурации TypeScript](guide/typescript-configuration).

Объект параметров шаблона,  `angularCompilerOptions`, является родным  `compilerOptions`  Объект который предоставляет стандартные параметры для компилятора TypeScript.

```json
    {
      "compilerOptions": {
        "experimentalDecorators": true,
                 ...
      },
      "angularCompilerOptions": {
        "fullTemplateTypeCheck": true,
        "preserveWhitespaces": true,
                 ...
      }
  }
  ```

{@a tsconfig-extends}
{@a configuration-inheritance-with-extends}
## Наследование конфигурации с расширением

Как и компилятор TypeScript, компилятор Angular AOT также поддерживает  `extends`  в  `angularCompilerOptions`  раздел конфигурационного файла TypeScript,  `tsconfig.json`.
 `extends` свойство находится на верхнем уровне, параллельно  `compilerOptions`  и  `angularCompilerOptions`.

Конфигурация TypeScript может наследовать настройки из другого файла, используя  `extends`  собственность.
Параметры конфигурации из базового файла сначала загружаются, а затем переопределяются теми, кто находится в  `tsconfig`  файл.

Например:

```json
{
  "extends": "../tsconfig.base.json",
  "compilerOptions": {
    "experimentalDecorators": true,
   ...
  },
  "angularCompilerOptions": {
    "fullTemplateTypeCheck": true,
    "preserveWhitespaces": true,
   ...
  }
}
```

Для получения дополнительной информации см. [Руководство по TypeScript](https://www.typescriptlang.org/docs/handbook/tsconfig-json.html).

{@a template-options}
## Варианты шаблона

Для настройки компилятора шаблона AOT доступны следующие параметры.

{@a allowemptycodegenfiles}
###  `allowEmptyCodegenFiles` 

когда  `true`, генерировать все возможные файлы, даже если они пусты. По умолчанию  `false` . Используется правилами сборки Bazel для упрощения того, как правила Bazel отслеживают файловые зависимости. Не используйте эту опцию вне правил Bazel.

{@a annotationsas}
###  `annotationsAs` 

Изменяет способ выдачи аннотаций, специфичных для углов, для улучшения встряхивания дерева. Неангулярные аннотации не затрагиваются. Один из `static fields` (по умолчанию) или  `decorators`.

* По умолчанию компилятор заменяет декораторы статическим полем в классе, что позволяет продвинутым создателям деревьев, таким как [компилятор Closure](https://github.com/google/closure-compiler)удалять неиспользуемые классы.

*  `decorators` Значение оставляет декораторы на месте, что ускоряет компиляцию. TypeScript отправляет вызовы ` __decorate` помощника. использование  `--emitDecoratorMetadata`  для выполнения отражения (но учтите, что полученный код не будет правильно дерева встряхивания.

{@a annotateforclosurecompiler}
###  `annotateForClosureCompiler` 

когда  `true`, используйте [Tsickle](https://github.com/angular/tsickle)чтобы комментировать испускаемый JavaScript с помощью [JSDoc](http://usejsdoc.org/)комментариев, необходимых для
[Закрытие компилятора](https://github.com/google/closure-compiler). По умолчанию  `false`.

{@a disableexpressionlowering}
###  `disableExpressionLowering` 

когда  `true`  (по умолчанию), преобразует код, который используется или может использоваться в аннотации, чтобы можно было импортировать его из модулей фабрики шаблонов. Смотрите [перезапись метаданных](guide/aot-compiler#metadata-rewriting)для получения дополнительной информации.

когда  `false`, отключает эту перезапись, требуя, чтобы перезапись выполнялась вручную.

{@a disabletypescriptversioncheck}
###  `disableTypeScriptVersionCheck` 

когда  `true`, компилятор не проверяет версию TypeScript и не сообщает об ошибке при использовании неподдерживаемой версии TypeScript. Не рекомендуется, так как неподдерживаемые версии TypeScript могут иметь неопределенное поведение. По умолчанию  `false`.

{@a enableivy}
###  `enableIvy` 

Включает [Ivy](guide/ivy)конвейер компиляции и рендеринга. По умолчанию  `true`, начиная с версии 9. В версии 9 вы можете [отказаться от Ivy](guide/ivy#opting-out-of-angular-ivy)чтобы продолжить использовать предыдущий компилятор, View Engine.

Для библиотечных проектов, созданных с помощью CLI,  `prod`  конфигурация умолчанию  `false`  в версии 9

{@a enableresourceinlining}
###  `enableResourceInlining` 

когда  `true`, заменяет  `templateUrl`  и  `styleUrls`  свойство во всех  `@Component`  декораторы с вложенным содержимым в  `template`  и  `styles`  свойства.

Когда включено,  `.js`  выход из  `ngc`  не содержит никаких ленивых шаблонов или стилей URL.

Для библиотечных проектов, созданных с помощью интерфейса командной строки, по умолчанию для конфигурации dev  `true`.


{@a enablelegacytemplate}

###  `enableLegacyTemplate` 

когда  `true`, позволяет использовать  `<template>`  элемент, который устарел в Angular 4.0, в пользу  `<ng-template>`  (чтобы избежать столкновения с одноименным элементом DOM). По умолчанию  `false` . Может потребоваться некоторым сторонним библиотекам Angular.

{@a flatmoduleid}
###  `flatModuleId` 

Идентификатор модуля, используемый для импорта плоского модуля (когда  `flatModuleOutFile`  - это  `true`). Ссылки, сгенерированные компилятором шаблона, используют это имя модуля при импорте символов
из плоского модуля. Игнорируется, если  `flatModuleOutFile`  - это  `false`.

{@a flatmoduleoutfile}
###  `flatModuleOutFile` 

когда  `true`, генерирует индекс плоского модуля с данным именем файла и соответствующими метаданными плоского модуля. Используйте для создания плоских модулей, которые упакованы аналогично  `@angular/core`  и  `@angular/common` . Когда эта опция используется,  `package.json`  для библиотеки должен ссылаться
в сгенерированный плоский индекс модуля вместо файла индекса библиотеки.

Производит только один  `.metadata.json`  Файл, который содержит все необходимые метаданные
для символов, экспортируемых из индекса библиотеки. В сгенерированном  `.ngfactory.js`  Файлы, квартира
Индекс модуля используется для импорта символов, который включает в себя как открытый API из индекса библиотеки
а также растушеванные внутренние символы.

По умолчанию  `.ts`  файл поставляется в  `files`  Предполагается, что поле является индексом библиотеки.
Если более одного  `.ts`  файл,  `libraryIndex`  используется для выбора файла для использования.
Если более одного  `.ts`  файл поставляется без  `libraryIndex`, ошибка.

Индекс плоского модуля  `.d.ts`  и  `.js`  создается с учетом  `flatModuleOutFile`  Имя в том же месте, что и индекс библиотеки  `.d.ts`  файл

Например, если библиотека использует  `public_api.ts`  файл в качестве индекса библиотеки модуля,  `tsconfig.json`    `files` поле будет  `["public_api.ts"]`.
 `flatModuleOutFile` может быть установлен в (например)  `"index.js"`, который производит  `index.d.ts`  и   `index.metadata.json` файлы.
 `module` поле библиотеки  `package.json`  будет  `"index.js"`  и  `typings`  поле
было бы  `"index.d.ts"`.

{@a fulltemplatetypecheck}
###  `fullTemplateTypeCheck` 

когда  `true`  (рекомендуется), включает [проверка выражения привязки](guide/aot-compiler#binding-expression-validation)фазу компилятора шаблона, который использует TypeScript для проверки выражений привязки. Для получения дополнительной информации см. [Проверка типа шаблона](guide/template-typecheck).

По умолчанию  `false`, но когда вы используете команду CLI `ng new`, он установлен в  `true`  по умолчанию в конфигурации сгенерированного проекта.

{@a generatecodeforlibraries}
###  `generateCodeForLibraries` 

когда  `true`  (по умолчанию), генерирует заводские файлы (`.ngfactory.js`  и  `.ngstyle.js`)
для  `.d.ts`  файлы с соответствующим  `.metadata.json`  Файл.

когда  `false`, заводские файлы создаются только для  `.ts`  файлы. Делайте это при использовании заводских сводок.


{@a preservewhitespaces}
###  `preserveWhitespaces` 

когда  `false`  (по умолчанию), удаляет пустые текстовые узлы из скомпилированных шаблонов, что приводит к уменьшению выпускаемых модулей фабрики шаблонов. Установлен в  `true`  чтобы сохранить пустые текстовые узлы.

{@a skipmetadataemit}
###  `skipMetadataEmit` 

когда  `true`, не производит  `.metadata.json`  Файлы. По умолчанию  `false`.

 `.metadata.json` Файлы содержат информацию, необходимую для компилятора шаблона из  `.ts` 
файл, который не включен в  `.d.ts`  Файл созданный компилятором TypeScript.
Эта информация включает, например, содержимое аннотаций (таких как шаблон компонента), которые TypeScript передает в  `.js`  файл но не в  `.d.ts`  файл

Вы можете установить на  `true`  при использовании заводских сводок, потому что заводские сводки
включить копию информации, которая находится в  `.metadata.json`  Файл.

Установлен в  `true`  если вы используете TypeScript  `--outFile`, потому что файлы метаданных
недопустимы для этого стиля вывода TypeScript. Тем не менее, мы не рекомендуем использовать  `--outFile`  с Angular., такой как [пакет webpack](https://webpack.js.org/)Вместо этого используйте.

{@a skiptemplatecodegen}
###  `skipTemplateCodegen` 

когда  `true`, не излучает  `.ngfactory.js`  и  `.ngstyle.js`  файлы. Это отключает большую часть компилятора шаблонов и отключает отчеты о диагностике шаблонов.

Может использоваться для указания компилятора шаблона производить  `.metadata.json`  файлы для распространения с  `npm`  пакет, избегая при этом производства  `.ngfactory.js`  и  `.ngstyle.js`  файлы которые нельзя распространять  `npm`.

Для библиотечных проектов, созданных с помощью интерфейса командной строки, по умолчанию для конфигурации dev  `true`.

{@a strictmetadataemit}
###  `strictMetadataEmit` 

когда  `true`, сообщает об ошибке  `.metadata.json`  Файл если  `"skipMetadataEmit"`  is  `false`.
По умолчанию  `false` . Используйте только когда  `"skipMetadataEmit"`  is  `false`  и  `"skipTemplateCodeGen"`  is  `true`.

Эта опция предназначена для проверки  `.metadata.json`  файлы, выпущенные для объединения с  `npm`  Пакет. Проверка является строгой и может выдавать ошибки для метаданных, которые никогда не приведут к ошибке при использовании компилятором шаблона. Вы можете выбрать подавление ошибки, генерируемой этой опцией для экспортируемого символа, включив  `@dynamic`  в комментарии, документирующем символ.

Это действительно для  `.metadata.json`  Файлы содержат ошибки.
Компилятор шаблона сообщает об этих ошибках, если метаданные используются для определения содержимого аннотации.
Сборщик метаданных не может предсказать символы, предназначенные для использования в аннотации, поэтому он предпочтительно включает узлы ошибок в метаданные для экспортируемых символов.
Компилятор шаблона может затем использовать узлы ошибок, чтобы сообщить об ошибке, если используются эти символы.

Если клиент библиотеки намеревается использовать символ в аннотации, компилятор шаблона обычно не сообщает об этом, пока клиент не использует символ.
Эта опция позволяет обнаруживать эти ошибки на этапе сборки
библиотека и используется, например, при создании самих библиотек Angular.

Для библиотечных проектов, созданных с помощью интерфейса командной строки, по умолчанию для конфигурации dev  `true`.

{@a strictinjectionparameters}
###  `strictInjectionParameters` 

когда  `true`  (рекомендуется), сообщает об ошибке для предоставленного параметра, тип инъекции которого не может быть определен. когда  `false`  (в настоящее время по умолчанию), параметры конструктора классов помечены  `@Injectable`, тип которого не может быть разрешен, предупреждение.

Когда вы используете команду CLI `ng new`, он установлен в  `true`  по умолчанию в конфигурации сгенерированного проекта.

{@a stricttemplates}
###  `strictTemplates` 

когда  `true`, включает [строгая проверка типа шаблона](guide/template-typecheck#strict-mode)в Angular версии 9. Строгий режим доступен только при использовании [Ivy](guide/ivy).

Дополнительные флаги строгости позволяют включать и отключать определенные типы строгой проверки типов шаблонов. Смотрите [устранение ошибок шаблона](guide/template-typecheck#troubleshooting-template-errors).


{@a trace}
###  `trace` 

когда  `true`, печатает дополнительную информацию при компиляции шаблонов. По умолчанию  `false`.
