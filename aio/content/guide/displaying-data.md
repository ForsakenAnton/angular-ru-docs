{@a displaying-data-in-views}
# Отображение данных в представлениях

Angular [компоненты](guide/glossary#component) формируют структуру данных вашего приложения.
HTML [шаблон](guide/glossary#template) связанный с компонентом, предоставляет средства для отображения этих данных в контексте веб-страницы.
Вместе класс компонента и шаблон образуют [представление](guide/glossary#view) данных вашего приложения.

Процесс объединения значений данных с их представлением на странице называется [привязка данных](guide/glossary#data-binding).
Вы отображаете свои данные для пользователя (и собираете данные от пользователя) с помощью*привязка* элементов управления в шаблоне HTML к свойствам данных класса компонента.

Кроме того, вы можете добавить логику в шаблон, включив [директивы](guide/glossary#directive), которые сообщают Angular, как изменять страницу при ее визуализации.

Angular определяет *язык шаблонов*, который расширяет нотацию HTML синтаксисом, который позволяет вам определять различные виды привязки данных и логические директивы.
Когда страница отображается, Angular интерпретирует синтаксис шаблона, чтобы обновить HTML в соответствии с вашей логикой и текущим состоянием данных.
Прежде чем читать полностью [руководство по синтаксису шаблона](guide/template-syntax) упражнения на этой странице быстро продемонстрируют, как работает синтаксис шаблона.

В этой демонстрации вы создадите компонент со списком героев.
Вы отобразите список имен героев и условно отобразите сообщение под списком.
Окончательный пользовательский интерфейс выглядит следующим образом:

<div class="lightbox">
  <img src="generated/images/guide/displaying-data/final.png" alt="Final UI">
</div>

<div class="alert is-helpful">

<live-example></live-example>Демонстрирует все синтаксические и фрагменты кода, описанные на этой странице.

</div>

{@a interpolation}

{@a showing-component-properties-with-interpolation}
## Отображение свойств компонента с интерполяцией
Самый простой способ отобразить свойство компонента - связать имя свойства с помощью интерполяции.
При интерполяции вы помещаете имя свойства в шаблон представления, заключенное в двойные фигурные скобки: `{{myHero}}`.

Используйте команду CLI [ `ng new displaying-data` ](cli/new) для создания рабочей области и приложения с именем  `displaying-data`.

Удалить <code>app.component.html</code>файл. Это не нужно для этого примера.

Затем измените <code>app.component.ts</code>файл с помощью
изменение шаблона и тела компонента.

Когда вы закончите, это должно выглядеть следующим образом:

<code-example path="displaying-data/src/app/app.component.1.ts" header="src/app/app.component.ts"></code-example>

Вы добавили два свойства в ранее пустой компонент: `title` и `myHero`.

Шаблон отображает свойства двух компонентов, используя двойные фигурные скобки
интерполяция

<code-example path="displaying-data/src/app/app.component.1.ts" header="src/app/app.component.ts (template)" region="template"></code-example>

<div class="alert is-helpful">

Шаблон представляет собой многострочные строки в пределах ECMAScript 2015 обратных кавычек (<code>\`</code>).
The backtick (<code>\`</code>) -Какое это *не* тот же самый характера, как один
цитата (`'`) - позволяет вам составить строку из нескольких строк, что делает
HTML более читабелен.

</div>

Angular автоматически вытягивает значение  `title`  и  `myHero`  свойства из компонента и
вставляет эти значения в браузер. Angular обновляет дисплей
когда эти свойства меняются.

<div class="alert is-helpful">

Точнее, повторное отображение происходит после некоторого асинхронного события, связанного с
представление, такое как нажатие клавиши, завершение таймера или ответ на запрос HTTP.

</div>

Обратите внимание, что вы не вызываете **new** для создания экземпляра  `AppComponent`  Класс.
Angular создает для вас экземпляр. Как?

CSS  `selector`  в  `@Component`  decorator указывает элемент с именем  `<app-root>`.
Этот элемент является заполнителем в теле вашего  `index.html`  файл:

<code-example path="displaying-data/src/index.html" header="src/index.html (body)" region="body"></code-example>

Когда вы загрузитесь с  `AppComponent`  Класс (in <code>main.ts</code>), Angular ищет  `<app-root>` 
в  `index.html`, находит его, создает экземпляр  `AppComponent`  и отображает его
внутри  `<app-root>`  тег.

Теперь запустите приложение. Он должен показывать название и героя имя:

<div class="lightbox">
  <img src="generated/images/guide/displaying-data/title-and-hero.png" alt="Title and Hero">
</div>

В следующих нескольких разделах рассматриваются некоторые варианты кодирования в приложении.


{@a choosing-the-template-source}
## Выбор источника шаблона

 `@Component` Метаданные Angular, где найти шаблон компонента.
Вы можете хранить шаблон вашего компонента в одном из двух мест.

* Вы можете определить шаблон, *встроенный* используя  `template`  свойство  `@Component` декоратор. Встроенный шаблон полезен для небольшой демонстрации или теста.
* Кроме того, вы можете определить шаблон в отдельном файле HTML и связать этот файл в  `templateUrl`  свойство  `@Component` декоратор. Эта конфигурация типична для чего-либо более сложного, чем небольшой тест или демонстрация, и используется по умолчанию при создании нового компонента.

В любом стиле привязки данных шаблона имеют одинаковый доступ к свойствам компонента.
Здесь приложение использует встроенный HTML, потому что шаблон маленький, а демонстрационная версия проще без дополнительного HTML-файла.

<div class="alert is-helpful">

  По умолчанию команда Angular CLI [`ng generate component`](cli/generate) генерирует компоненты с файлом шаблона.
  Вы можете переопределить это, добавив "-t" (сокращение от  `inlineTemplate=true`) вариант:

  <code-example hideCopy language="sh" class="code-shell">
    ng generate component hero -t
  </code-example>

</div>


{@a initialization}
## Инициализация

В следующем примере используется присвоение переменной для инициализации компонентов.

<code-example path="displaying-data/src/app/app-ctor.component.1.ts" region="class"></code-example>

Вместо этого вы можете объявить и инициализировать свойства с помощью конструктора.
Это приложение использует более краткий стиль «назначения переменных» просто для краткости.


{@a ngFor}

{@a add-logic-to-loop-through-data}
## Добавьте логику для циклического прохождения данных

 `*ngFor` Директива (предопределенная Angular) позволяет вам проходить через данные. В следующем примере директива используется для отображения всех значений в свойстве массива.

Чтобы отобразить список героев, начните с добавления массива имен героев в компонент и переопределите  `myHero`  будет первым именем в массиве.


<code-example path="displaying-data/src/app/app.component.2.ts" header="src/app/app.component.ts (class)" region="class"></code-example>


Теперь используйте Angular  `ngFor`  директива в шаблоне для отображения каждого элемента в  `heroes`  список.


<code-example path="displaying-data/src/app/app.component.2.ts" header="src/app/app.component.ts (template)" region="template"></code-example>


Этот интерфейс использует неупорядоченный список HTML с  `<ul>`  и  `<li>`  теги .  `*ngFor` 
в  `<li>`  Элемент - это Angular директива повторителя.
Это отмечает, что  `<li>`  элемент (и его потомки) в качестве «шаблона ретранслятора»:


<code-example path="displaying-data/src/app/app.component.2.ts" header="src/app/app.component.ts (li)" region="li"></code-example>

<div class="alert is-important">

Не забудьте указать звездочку (\*) в  `*ngFor`. Это неотъемлемая часть синтаксиса.
Узнайте больше о `ngFor` и `*` в [разделе ngFor](guide/template-syntax#ngfor) из [Шаблон синтаксиса](guide/template-syntax)страницы.

</div>

Обратите внимание на `hero` в `ngFor` двойных кавычках;
это пример входной переменной шаблона. Читать
больше о входных переменных шаблона в [microsyntax](guide/template-syntax#microsyntax)секции
[Шаблон синтаксис](guide/template-syntax) страница.

Angular дубликат `<li>` для каждого элемента в списке, установив  `hero`  переменный
к предмету (герою) в текущей итерации. Angular использует эту переменную в качестве
контекст для интерполяции в двойных фигурных скобках.

<div class="alert is-helpful">

В этом случае, `ngFor` отображает массив, но  `ngFor`  банки
Повторите элементы для любого [повторяемого](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols)объекта.

</div>

Теперь герои появляются в неупорядоченном списке.

<div class="lightbox">
  <img src="generated/images/guide/displaying-data/hero-names-list.png" alt="After ngfor">
</div>


{@a creating-a-class-for-the-data}
## Создание класса для данных

Код приложения определяет данные непосредственно внутри компонента, что не является лучшей практикой.
Однако в простой демонстрации это нормально.

На данный момент, привязка к массиву строк.
В реальных приложениях большинство привязок относятся к более специализированным объектам.

Чтобы преобразовать эту привязку для использования специализированных объектов, включите массив
имен героев в массив  `Hero`  Объекты . Для этого вам понадобится  `Hero`  класс:

<code-example language="sh" class="code-shell">
  ng generate class hero
</code-example>

Эта команда создает следующий код.


<code-example path="displaying-data/src/app/hero.ts" header="src/app/hero.ts"></code-example>

Вы определили класс с конструктором и двумя свойствами:  `id`  и  `name`.

Может показаться, что у класса нет свойств, но это так.
Объявление параметров конструктора использует преимущество ярлыка TypeScript.

Рассмотрим первый параметр:


<code-example path="displaying-data/src/app/hero.ts" header="src/app/hero.ts (id)" region="id"></code-example>

Этот краткий синтаксис многое делает

* Объявляет параметр конструктора и его тип.
* Объявляет публичную собственность с таким же названием.
* Инициализирует это свойство с соответствующим аргументом при создании экземпляра класса.


{@a using-the-hero-class}
### Использование класса героя

После импорта  `Hero ` класс, ` AppComponent.heroes` может возвращать массив _typed_
из  `Hero`  объектов:


<code-example path="displaying-data/src/app/app.component.3.ts" header="src/app/app.component.ts (heroes)" region="heroes"></code-example>



Далее обновите шаблон.
На данный момент он показывает героя  `id`  и  `name`.
Исправьте это, чтобы отобразить только героя  `name`  собственности.


<code-example path="displaying-data/src/app/app.component.3.ts" header="src/app/app.component.ts (template)" region="template"></code-example>


Дисплей выглядит так же, но код понятнее.

{@a ngIf}

{@a conditional-display-with-ngif}
## Условное отображение с NgIf

Иногда приложение должно отображать представление или часть представления только при определенных обстоятельствах.

Давайте изменим пример, чтобы отобразить сообщение, если есть более трех героев.

Angular  `ngIf`  Директива вставляет или удаляет элемент на основе условия _truthy / falsy_.
Для того, чтобы увидеть его в действии, добавьте следующий пункт в нижней части шаблона:


<code-example path="displaying-data/src/app/app.component.ts" header="src/app/app.component.ts (message)" region="message"></code-example>


<div class="alert is-important">

Не забудьте указать звездочку (\*) в `*ngIf`. Это неотъемлемая часть синтаксиса.
Узнайте больше о `ngIf` и `*` в [разделе ngIf](guide/template-syntax#ngIf) из [Шаблон синтаксиса](guide/template-syntax) страницы.

</div>


Выражение шаблона внутри двойных кавычек
 `*ngIf="heroes.length > 3"`, выглядит и ведет себя так же, как TypeScript.
Если в списке героев компонента более трех элементов, Angular добавляет абзац
в DOM, и сообщение появляется.
Если есть три или меньше элементов, Angular пропускает абзац, поэтому сообщение не появляется.

Для получения дополнительной информации см. [Выражения шаблона](guide/template-syntax#template-expressions).


<div class="alert is-helpful">

Angular не показывает и не скрывает сообщение. Это добавление и удаление элемента абзаца из DOM. Это повышает производительность, особенно в более крупных проектах, когда они условно включены или исключены
большие куски HTML со многими привязками данных.

</div>

Попробуйте это. Поскольку массив состоит из четырех элементов, сообщение должно появиться.
Вернитесь <code>app.component.ts</code>и удалите или закомментируйте один из элементов из массива героев.
Браузер должен автоматически обновиться, и сообщение должно исчезнуть.


{@a summary}
## Резюме
Теперь вы знаете, как использовать:

* **Интерполяция** с двойными фигурными скобками для отображения свойства компонента.
* **ngFor** для отображения массива элементов.
* Класс TypeScript для формирования**данных модели** для вашего компонента и отображения свойств этой модели.
* **ngIf** условно отобразить фрагмент HTML на основе логического выражения.

Вот окончательный код:

<code-tabs>

  <code-pane header="src/app/app.component.ts" path="displaying-data/src/app/app.component.ts" region="final">

  </code-pane>

  <code-pane header="src/app/hero.ts" path="displaying-data/src/app/hero.ts">

  </code-pane>

  <code-pane header="src/app/app.module.ts" path="displaying-data/src/app/app.module.ts">

  </code-pane>

  <code-pane header="main.ts" path="displaying-data/src/main.ts">

  </code-pane>

</code-tabs>
