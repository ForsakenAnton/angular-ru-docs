{@a accessibility-in-angular}
# Доступность в Angular

Интернетом пользуются самые разные люди, в том числе те, у кого есть нарушения зрения или моторики.
Доступно множество вспомогательных технологий, которые значительно облегчают работу этих групп
взаимодействовать с веб-приложениями.
Кроме того, разработка приложения, которое будет более доступным, обычно улучшает взаимодействие с пользователем для всех пользователей.

Подробное введение в вопросы и методы проектирования доступных приложений см. В разделе [Доступность](https://developers.google.com/web/fundamentals/accessibility/#what_is_accessibility)Google [Основы Интернета](https://developers.google.com/web/fundamentals/).

На этой странице обсуждаются лучшие практики для разработки приложений Angular
хорошо работающие для всех пользователей, включая тех, кто полагается на вспомогательные технологии.

{@a accessibility-attributes}
## Атрибуты доступности

Создание доступного веб-интерфейса часто включает настройку [атрибуты ARIA](https://developers.google.com/web/fundamentals/accessibility/semantics-aria)
 что бы обеспечить семантическое значение там, где оно может отсутствовать отсутствовать.
Используйте [привязка атрибутов] (guide/template-syntax#attribute-binding)синтаксис шаблона для управления значениями атрибутов, связанных с доступностью.

При привязке к атрибутам ARIA в Angular необходимо использовать `attr.` префикс, так как aria
спецификация зависит конкретно от атрибутов HTML, а не от свойств элементов DOM.

```html
<!-- Use attr. when binding to an ARIA attribute -->
<button [attr.aria-label]="myActionLabel">...</button>
```

Обратите внимание, что этот синтаксис необходим только для атрибута _bindings_.
Статические атрибуты ARIA не требуют дополнительного синтаксиса.

```html
<!-- Static ARIA attributes require no extra syntax -->
<button aria-label="Save document">...</button>
```

ПРИМЕЧАНИЕ:

<div class="alert is-helpful">

   По соглашению атрибуты HTML используют строчные имена (`tabindex`), в то время как свойства используют имена camelCase (`tabIndex`).

   См. [Синтаксис шаблона](https://angular.io/guide/template-syntax#html-attribute-vs-dom-property) Руководство для получения дополнительной информации о разнице между атрибутами и свойствами.

</div>


{@a angular-ui-components}
## Angular компоненты пользовательского интерфейса

Библиотека [Angular Material](https://material.angular.io/), поддерживаемая командой Angular, представляет собой набор повторно используемых компонентов пользовательского интерфейса, которые стремятся быть полностью доступными.
[Комплект компонент развития (CDK)](https://material.angular.io/cdk/categories) включает в себя `a11y` пакет, который предоставляет инструменты для поддержки доступности разных елементов.
Например:

* `LiveAnnouncer` используется для объявления сообщений пользователям программ чтения с экрана с помощью `aria-live`. См. Документацию W3C для получения дополнительной информации [aria-live](https://www.w3.org/WAI/PF/aria-1.1/states_and_properties#aria-live).

* `cdkTrapFocus` директива перехватывает фокус клавиши Tab внутри элемента. Используйте его для создания доступности например в таких компонентах как модальные диалоговые окна, где фокус должен быть ограничен.

Для получения полной информации об этих и других инструментах см. [Обзор доступности Angular CDK](https://material.angular.io/cdk/a11y/overview).


{@a augmenting-native-elements}
### Дополнение нативных элементов

Нативные элементы HTML содержат ряд стандартных шаблонов взаимодействия, которые важны для доступности.
При разработке компонентов Angular вы должны по возможности повторно использовать эти нативные элементы, а не заново реализовывать хорошо поддерживаемое поведение.

Например, вместо создания пользовательского элемента для новой кнопки, вы можете создать компонент, который использует селектор атрибута с собственным `<button>` элемент.
Это чаще всего относится к `<button>` и `<a>`, но может использоваться со многими другими типами элементов.

Вы можете увидеть примеры этого паттерна в Angular Material: [ `MatButton` ](https://github.com/angular/components/blob/master/src/material/button/button.ts#L66-L68), [ ` MatTabNav` ](https://github.com/angular/components/blob/master/src/material/tabs/tab-nav-bar/tab-nav-bar.ts#L67), [ `MatTable` ](https://github.com/angular/components/blob/master/src/material/table/table.ts#L17).

{@a using-containers-for-native-elements}
### Использование контейнеров для нативных элементов

Иногда для использования соответствующего нативного элемента требуется элемент контейнера.
Например, родной `<input>` Элемент не может иметь дочерних элементов, поэтому нужны любые пользовательские компоненты ввода текста
обернуть `<input>` с дополнительными элементами.
Хотя вы можете просто включить `<input>` в шаблоне вашего пользовательского компонента,
это делает невозможным для пользователей компонента устанавливать произвольные свойства и атрибуты для элемента ввода.
Вместо этого вы можете создать контейнерный компонент, который использует проекцию содержимого, чтобы включить собственный элемент управления в API компонента.

Вы можете увидеть [ `MatFormField` ](https://material.angular.io/components/form-field/overview) в качестве примера этого шаблона.

{@a case-study-building-a-custom-progress-bar}
## Пример: создание пользовательского индикатора выполнения

В следующем примере показано как сделать простой индикатор выполнения доступным с помощью привязки хоста для управления атрибутами, связанными с доступностью.

* Компонент определяет элемент с возможностью доступа со стандартным атрибутом HTML. `role` и атрибуты ARIA. Атрибут ARIA `aria-valuenow` привязана к вводу пользователя.

   <code-example path="accessibility/src/app/progress-bar.component.ts" header="src/app/progress-bar.component.ts" region="progressbar-component"></code-example>


* В шаблоне `aria-label` атрибут гарантирует, что элемент управления доступен для программ чтения с экрана.

   <code-example path="accessibility/src/app/app.component.html" header="src/app/app.component.html" region="template"></code-example>


Чтобы увидеть индикатор выполнения в рабочем примере приложения, обратитесь к <live-example></live-example>.

{@a routing-and-focus-management}
## Маршрутизация и управление фокусом

Отслеживание и управление [фокус](https://developers.google.com/web/fundamentals/accessibility/focus/)в пользовательском интерфейсе является важным фактором при разработке доступности.
При использовании маршрутизации Angular вы должны решить куда направить страницу при навигации.

Чтобы не полагаться исключительно на визуальные подсказки, вам необходимо убедиться что ваш код маршрутизации обновляется после навигации по страницам.
Использовать `NavigationEnd` событие из `Router` чтобы знать, когда обновлять
фокус.

В следующем примере показано, как найти и сфокусировать заголовок основного содержимого в DOM после навигации.

```ts

router.events.pipe(filter(e => e instanceof NavigationEnd)).subscribe(() => {
  const mainHeader = document.querySelector('#main-content-header')
  if (mainHeader) {
    mainHeader.focus();
  }
});

```
В реальном приложении, элемент который получает фокус, будет зависеть от структуры вашего приложения.
Элемент с фокусом должен дать пользователям возможность немедленно перейти к основному контенту, который только что был направлен в поле зрения.
Вам следует избегать ситуаций когда фокус возвращается к `body` элементу после изменения маршрута.


{@a additional-resources}
## Дополнительные ресурсы

* [Доступность - Google Web Fundamentals](https://developers.google.com/web/fundamentals/accessibility)

* [Спецификация ARIA и авторские практики](https://www.w3.org/TR/wai-aria/)

* [Материал Дизайн - Доступность](https://material.io/design/usability/accessibility.html)

* [Smashing Magazine](https://www.smashingmagazine.com/search/?q=accessibility)

* [Включающие компоненты](https://inclusive-components.design/)

* [Ресурсы доступности и примеры кода](https://dequeuniversity.com/resources/)

* [W3C - Инициатива доступности веб](https://www.w3.org/WAI/people-use-web/)

* [Rob Додсон A11ycasts](https://www.youtube.com/watch?v=HtTyRajRuyY)

* [Codelyzer](http://codelyzer.com/rules/) предоставляет правила печати, которые помогут вам убедиться, что ваш код соответствует стандартам доступности.

Книги

* «Сеть для всех: разработка доступного пользовательского опыта», Сара Хортон и Уитни Кесенбери

* «Инклюзивные шаблоны дизайна», Хейдон Пикеринг

{@a more-on-accessibility}
## Подробнее о доступности

Вы также можете быть заинтересованы в следующих разделах:
* [Аудит доступности вашего приложения Angular с codelyzer](https://web.dev/accessible-angular-with-codelyzer/).
